filter(!is.na(rgdpo)) %>%
filter(year == 1950) %>%
top_n(30, rgdpo) %>%
pull(countrycode)
Top_GDP
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COD", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PAK", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COD", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PAK", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
select(rgdpe, pop, cn, hc, emp, ctfp, csh_g, xr, csh_m, csh_x)
View(Model_Data)
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
select(countrycode, year, rgdpe, pop, cn, hc, emp, ctfp, csh_g, xr, csh_m, csh_x)
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x)
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
group_split(countrycode)
OLS_setup <- function(){
lm(ln_GDP_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x)
}
Result_OLS <- map(Model_Data, OLS_setup)
Result_OLS <- map(Model_Data, OLS_setup())
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
group_split(countrycode)
Result_OLS <- map(Model_Data, OLS_setup())
OLS_setup <- function(){
lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x)
}
Result_OLS <- map(Model_Data, OLS_setup())
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
group_split(countrycode) %>% map(OLS_setup())
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
group_split(countrycode) %>% na.omit()
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
na.omit()
View(Model_Data)
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
na.omit() %>%
group_split(countrycode) %>%
map(OLS_setup())
Model_Data
check_vars <- map(grouped_data, ~"ln_GDP_pc" %in% names(.x))
check_vars <- map(Model_Data, ~"ln_GDP_pc" %in% names(.x))
check_vars
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
na.omit() %>%
group_by(countrycode) %>%
nest()
View(Model_Data)
OLS_models <- Model_Data %>%
mutate(model = map(Model_Data,
lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x, data = .x)))
Nest_Data <- Model_Data %>%
group_by(countrycode) %>%
nest()
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
na.omit()
Nest_Data <- Model_Data %>%
group_by(countrycode) %>%
nest()
OLS_models <- Model_Data %>%
mutate(model = map(Nest_Data,
lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x, data = .x)))
OLS_models <- Model_Data %>%
mutate(model = map(Nest_Data,
~ lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x, data = .x)))
OLS_models <- Model_Data %>%
mutate(model = map(Nest_Data,
lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x)))
OLS_models <- Model_Data %>%
mutate(model = map(Nest_Data, function(df){
lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x)
}))
OLS_models <- Model_Data %>%
mutate(model = map(Nest_Data, function(df){
lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x, data = df)
}))
library(broom)
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
na.omit() %>%
group_by(countrycode) %>%
group_map(~ broom::tidy(lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x, data = .x)))
View(Model_Data)
Model_Data
Init_Data <- read_csv("data/Data_1.csv")
library(tidyverse)
library(broom)
Init_Data <- read_csv("data/Data_1.csv")
Init_Data <- read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COD", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PAK", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
View(Init_Data)
Model_Data <- Init_Data %>%
filter(!is.na(rgdpe)) %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
na.omit() %>%
group_by(countrycode) %>%
group_map(~ broom::tidy(lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x, data = .x)))
Model_Data
View(Model_Data)
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_cn, hc, Labour_Ratio, ctfp, csh_g, xr, csh_m, csh_x) %>%
group_by(countrycode) %>%
group_map(~ broom::tidy(lm(ln_Gdp_pc ~ l_cn + hc + Labour_Ratio + ctfp + csh_g + xr + csh_m + csh_x, data = .x)))
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, ln_Gdp_pc, l_pop, hc, l_cn, ctfp) %>%
group_by(countrycode) %>%
group_map(~ broom::tidy(lm(ln_Gdp_pc ~ l_pop + hc + l_cn + ctfp, data = .x)))
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, ln_Gdp_pc, l_pop, hc, l_cn, ctfp) %>%
group_by(countrycode)
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, ln_Gdp_pc, l_pop, hc, l_cn, ctfp) %>%
group_by(countrycode) %>%
group_map(~ broom::tidy(lm(ln_Gdp_pc ~ l_pop + hc + l_cn + ctfp, data = .x)))
Model_Data
install.packages("plm")
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn, ctfp)
OLS_reg <- Model_Data %>%
group_by(countrycode) %>%
group_map(~ broom::tidy(lm(ln_Gdp_pc ~ l_pop + hc + l_cn + ctfp, data = .x)))
Top_GDP = Init_Data %>%
select(rgdpo, countrycode, year) %>%
filter(!is.na(rgdpo)) %>%
filter(year == 1950)
View(Top_GDP)
library(plm)
Pool_OLS_reg <- Model_Data %>%
plm(ln_Gdp_pc ~ l_pop + hc + l_cn + ctfp, data = .x, model = "pooling")
Pool_OLS_reg <- Model_Data %>%
plm(ln_Gdp_pc ~ l_pop + hc + l_cn + ctfp, model = "pooling")
Pool_OLS_reg <- plm(ln_Gdp_pc ~ l_pop + hc + l_cn + ctfp, data = Model_Data, model = "pooling")
View(Pool_OLS_reg)
Pool_OLS_reg
stargazer(Pool_OLS_reg)
library(stargazer)
stargazer(Pool_OLS_reg)
stargazer(Pool_OLS_reg, "text")
stargazer(Pool_OLS_reg, "html", out = "pooled_table.html")
stargazer(OLS_reg, "html", out = "OLS_table.html")
?apply
library(tidyverse)
Init_Data <- read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
filter(countrycode %in% Countries) %>%
select(countrycode, year, rgdpe) %>%
spread(countrycode, rgdpe) %>%
select(-year)
Cor_Mat <- cor(Model_Data)
View(Cor_Mat)
Cor_Mat <- apply(Cor_Mat, c(1, 2), function(x) x^3)
View(Cor_Mat)
Cor_Mat <- cor(Model_Data)
Cor_Mat <- apply(Cor_Mat, c(1, 2), function(x) x^10)
View(Cor_Mat)
Cor_Mat <- cor(Model_Data)
Cor_Mat <- apply(Cor_Mat, c(1, 2), function(x) x^100)
View(Cor_Mat)
Cor_Mat <- cor(Model_Data)
Cor_Mat <- apply(Cor_Mat, c(1, 2), function(x) x^15)
View(Cor_Mat)
diag(Cor_Mat) <- 0
Weight_Mat <- apply(Cor_Mat, 2, function(col) col / sum(col))
Weight_Mat
View(Weight_Mat)
library(tidyverse)
Init_Data <- read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
filter(countrycode %in% Countries) %>%
mutate(ln_GDP_pc = log(rgdpe/pop)) %>%
select(countrycode, year, rgdpe) %>%
spread(countrycode, rgdpe) %>%
select(-year)
Cor_Mat <- cor(Model_Data)
Model_Data <- Init_Data %>%
filter(countrycode %in% Countries) %>%
mutate(ln_GDP = log(rgdpe/pop)) %>%
select(countrycode, year, ln_GDP) %>%
spread(countrycode, ln_GDP) %>%
select(-year)
Cor_Mat <- cor(Model_Data)
Cor_Mat <- apply(Cor_Mat, c(1, 2), function(x) x^3)
diag(Cor_Mat) <- 0
Weight_Mat <- apply(Cor_Mat, 2, function(col) col / sum(col))
Weight_Mat
library(tidyverse)
library(plm)
library(stargazer)
Two_Way_Fix_Eff <- function(){
Init_Data <- read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn) %>%
na.omit()
Two_Way_Fixed_Mod <- plm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = Model_Data, model = "within", effect = "twoways")
Init_Data <- read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn) %>%
na.omit()
Two_Way_Fixed_Mod <- plm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = Model_Data, model = "within", effect = "twoways")
Init_Data <- read_csv("data/Data_PWT.csv")
library(tidyverse)
library(broom)
library(stargazer)
Init_Data <- read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn)
OLS_reg <- Model_Data %>%
group_by(countrycode) %>%
group_map(~ broom::tidy(lm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = .x)))
View(OLS_reg)
Init_Data <- read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn)
Pool_OLS_reg <- plm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = Model_Data, model = "pooling")
library(plm)
Init_Data <- read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn)
Pool_OLS_reg <- plm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = Model_Data, model = "pooling")
stargazer(Pool_OLS_reg, "text", out = "pooled_table.html")
load(pacman)
library(pacman)
p_install_gh("Nicktz/fmxdat")
library(tidyverse)
Init_Data = read_csv("data/Data_PWT.csv")
Top_GDP = Init_Data %>%
select(rgdpo, countrycode, year) %>%
filter(!is.na(rgdpo)) %>%
filter(year == 1950) %>%
top_n(30, rgdpo) %>%
pull(countrycode)
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Model_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn) %>%
filter(year <= 2014)
library(broom)
library(stargazer)
data = Model_Data
OLS_reg <- data %>%
group_by(countrycode) %>%
group_map(~ broom::tidy(lm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = .x)))
View(OLS_reg)
list.files('code/', full.names = T, recursive = T) %>% .[grepl('.R', .)] %>% as.list() %>% walk(~source(.))
list.files('code/', full.names = T, recursive = T) %>% .[grepl('.R', .)] %>% as.list() %>% walk(~source(.))
Pool_OLS_reg <- plm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = data, model = "pooling")
Pool_Mod = Pool, Two_Way_Mod = Two_way, OLS = OLS_Mods
Pool_Mod = Pool
?predict
?predict.plm
Init_Data = read_csv("data/Data_PWT.csv")
Countries <- c("ARG", "AUS", "AUT", "BEL", "BRA", "CAN", "CHE", "COL",
"DEU", "DNK", "ESP", "FIN", "FRA", "GBR", "IND", "ITA", "JPN",
"MEX", "NGA", "NLD", "NOR", "PHL", "SWE", "THA", "TUR",
"USA", "VEN", "ZAF")
Test_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn) %>%
filter(year > 2014)
pred_Pool <- predict(Pool_OLS_reg, newdata = Test_Data)
Pool_RMSE <- sqrt(mean((Test_Data$ln_Gdp_pc - pred_Pool)^2))
Two_Way_Fixed_Mod <- plm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = data, model = "within", effect = "twoways")
pred_Two_Way <- predict(Two_Way_Fixed_Mod, newdata = Test_Data)
Two_Way_RMSE <- sqrt(mean((Test_Data$ln_Gdp_pc - pred_Two_Way)^2))
View(OLS_reg)
all_residuals <- c()
all_residuals <- c()
for (i in length(OLS_reg)) {
model <- OLS_reg[[i]]
country_data <- Test_Data %>% filter(countrycode = Countries[i])
predictions <- predict(model, newdata = country_data)
residuals <- country_data$ln_Gdp_pc - predictions
all_residuals <- c(all_residuals, residuals)
}
all_residuals <- c()
for (i in length(OLS_reg)) {
model <- OLS_reg[[i]]
country_data <- Test_Data %>% filter(countrycode == Countries[i])
predictions <- predict(model, newdata = country_data)
residuals <- country_data$ln_Gdp_pc - predictions
all_residuals <- c(all_residuals, residuals)
}
View(OLS_reg)
View(Pool_OLS_reg)
all_residuals <- c()
for (i in length(OLS_reg)) {
model <- OLS_reg[[i]]$estimate
country_data <- Test_Data %>% filter(countrycode == Countries[i])
predictions <- predict(model, newdata = country_data)
residuals <- country_data$ln_Gdp_pc - predictions
all_residuals <- c(all_residuals, residuals)
}
OLS_reg <- data %>%
group_by(countrycode) %>%
group_map(~ lm(ln_Gdp_pc ~ l_pop + hc + l_cn, data = .x), .keep = T)
all_residuals <- c()
for (i in length(OLS_reg)) {
model <- OLS_reg[[i]]
country_data <- Test_Data %>% filter(countrycode == Countries[i])
predictions <- predict(model, newdata = country_data)
residuals <- country_data$ln_Gdp_pc - predictions
all_residuals <- c(all_residuals, residuals)
}
OLS_RMSE <- sqrt(mean((all_residuals)^2))
Model_Data <- Init_Data %>%
mutate(ln_Gdp = log(rgdpe)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp, l_pop, hc, l_cn) %>%
filter(year <= 2014)
data = Model_Data
OLS_reg <- data %>%
group_by(countrycode) %>%
group_map(~ lm(ln_Gdp ~ l_pop + hc + l_cn, data = .x), .keep = T)
Pool_OLS_reg <- plm(ln_Gdp ~ l_pop + hc + l_cn, data = data, model = "pooling")
Two_Way_Fixed_Mod <- plm(ln_Gdp ~ l_pop + hc + l_cn, data = data, model = "within", effect = "twoways")
Test_Data <- Init_Data %>%
mutate(ln_Gdp_pc = log(rgdpe/pop)) %>%
mutate(l_pop = log(pop)) %>%
mutate(Labour_Ratio = emp/pop) %>%
filter(countrycode %in% Countries) %>%
mutate(l_cn = log(cn)) %>%
select(countrycode, year, ln_Gdp_pc, l_pop, hc, l_cn) %>%
filter(year > 2014)
pred_Pool <- predict(Pool_OLS_reg, newdata = Test_Data)
Pool_RMSE <- sqrt(mean((Test_Data$ln_Gdp_pc - pred_Pool)^2))
pred_Two_Way <- predict(Two_Way_Fixed_Mod, newdata = Test_Data)
Two_Way_RMSE <- sqrt(mean((Test_Data$ln_Gdp_pc - pred_Two_Way)^2))
all_residuals <- c()
for (i in length(OLS_reg)) {
model <- OLS_reg[[i]]
country_data <- Test_Data %>% filter(countrycode == Countries[i])
predictions <- predict(model, newdata = country_data)
residuals <- country_data$ln_Gdp_pc - predictions
all_residuals <- c(all_residuals, residuals)
}
OLS_RMSE <- sqrt(mean((all_residuals)^2))
stargazer(Pool, "text", out = "pooled_table.html")
stargazer(Pool_OLS_reg, "text", out = "pooled_table.html")
